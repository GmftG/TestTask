User Management API

Этот проект предоставляет RESTful API для управления пользователями, включая функции регистрации, входа, получения информации о пользователе, обновления и удаления пользователей. Проект построен с использованием PHP и JWT для аутентификации.

Установка

1. Склонируйте репозиторий:
   ```sh
   git clone https://github.com/GmftG/TestTask.git
   ```

3. Перейдите в директорию проекта(backend):
   ```sh
   cd backend
   ```

5. Скачайте необходимые зависимости проекта (если не скачалось по умолчанию):
   ```sh
   composer install
   ```

7. API доступно по адресу: 127.0.0.1/api/users/methodsbelow

## Использование

### Конфигурация

Убедитесь, что ваш веб-сервер настроен для обработки PHP файлов и у вас настроен доступ к базе данных.

### Запуск докер файлов
```sh
docker compose up
```

### Endpoints

Вход пользователя

- Метод: POST
- URL: /login

Тело запроса:
```php
{
  "username": "ваш_логин",
  "password": "ваш_пароль"
}
```

Ответ:
В случае успешной аутентификации:
```php
{
  "data": {
    "username": "ваш_логин"
  },
  "access": ["ваш_access_token"]
}
```

В случае ошибки:
```php
{
  "error": "authentication failed"
}
```

В случае использования неподдерживаемого метода HTTP будет возвращен ответ с кодом 422 и сообщением об ошибке:
```php
{
  "error": "Method not supported"
}
```

---

Создание пользователя

- Метод: POST
- URL: /create

Тело запроса:
```php
{
  "username": "ваш_логин",
  "password": "ваш_пароль"
}
```

Ответ:

В случае успешного создания:
```php
{
  "message": "user was created"
}
```

В случае ошибки на сервере:
```php
{
  "error": "Internal server error"
}
```

В случае использования неподдерживаемого метода HTTP будет возвращен ответ с кодом 422 и сообщением об ошибке:
```php
{
  "error": "Method not supported"
}
```

---

Получение информации о пользователе

- Метод: GET
- URL: /about

Необходим заголовок авторизации: Bearer токен

Ответ:
```php
{
  "data": {
    "username": "ваш_логин",
    "id": "ваш_id"
  }
}
```

В случае ошибки:
```php
{
  "error": "authentication failed"
}
```

В случае использования неподдерживаемого метода HTTP будет возвращен ответ с кодом 422 и сообщением об ошибке:
```php
{
  "error": "Method not supported"
}
```

---

Редактирование пользователя

- Метод: PUT
- URL: /edit

Тело запроса:
```php
{
  "username": "новый_логин",
  "password": "новый_пароль"
}
```

Ответ:
```php
{
  "message": "user was updated"
}
```

В случае ошибки:
```php
{
  "error": "authentication failed"
}
```

В случае использования неподдерживаемого метода HTTP будет возвращен ответ с кодом 422 и сообщением об ошибке:
```php
{
  "error": "Method not supported"
}
```

---

Удаление пользователя

- Метод: GET
- URL: /delete

Необходим заголовок авторизации: Bearer токен

Ответ:
```php
{
  "message": "user was deleted"
}
```

В случае ошибки:
```php
{
  "error": "authentication failed"
}
```

В случае использования неподдерживаемого метода HTTP будет возвращен ответ с кодом 422 и сообщением об ошибке:
```php
{
  "error": "Method not supported"
}
```

{
  "error": "Method not supported"
}
