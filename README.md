User Management API

Этот проект предоставляет RESTful API для управления пользователями, включая функции регистрации, входа, получения информации о пользователе, обновления и удаления пользователей. Проект построен с использованием PHP и JWT для аутентификации.

Установка

1. Склонируйте репозиторий:
      git clone https://github.com/GmftG/TestTask.git
   

2. Перейдите в директорию проекта(backend):
      cd backend
   

3. Скачайте необходимые зависимости проекта (если не скачалось по умолчанию):
      composer install
   

4. API доступно по адресу: 127.0.0.1/api/users/methodsbelow

Использование

Конфигурация

Убедитесь, что ваш веб-сервер настроен для обработки PHP файлов и у вас настроен доступ к базе данных.

Запуск докер файлов

Запустите сервер, чтобы обработать запросы к API (например, используя встроенный сервер PHP):
docker compose up


Endpoints

Вход пользователя

- Метод: POST
- URL: /login

Тело запроса:
{
  "username": "ваш_логин",
  "password": "ваш_пароль"
}


Ответ:

В случае успешной аутентификации:
{
  "data": {
    "username": "ваш_логин"
  },
  "access": ["ваш_access_token"]
}


В случае ошибки:
{
  "error": "authentication failed"
}


В случае использования неподдерживаемого метода HTTP будет возвращен ответ с кодом 422 и сообщением об ошибке:
{
  "error": "Method not supported"
}


---

Создание пользователя

- Метод: POST
- URL: /create

Тело запроса:
{
  "username": "ваш_логин",
  "password": "ваш_пароль"
}


Ответ:

В случае успешного создания:
{
  "message": "user was created"
}


В случае ошибки на сервере:
{
  "error": "Internal server error"
}


В случае использования неподдерживаемого метода HTTP будет возвращен ответ с кодом 422 и сообщением об ошибке:
{
  "error": "Method not supported"
}


---

Получение информации о пользователе

- Метод: GET
- URL: /about

Необходим заголовок авторизации: Bearer токен

Ответ:
{
  "data": {
    "username": "ваш_логин",
    "id": "ваш_id"
  }
}


В случае ошибки:
{
  "error": "authentication failed"
}


В случае использования неподдерживаемого метода HTTP будет возвращен ответ с кодом 422 и сообщением об ошибке:
{
  "error": "Method not supported"
}


---

Редактирование пользователя

- Метод: PUT
- URL: /edit

Тело запроса:
{
  "username": "новый_логин",
  "password": "новый_пароль"
}


Ответ:
{
  "message": "user was updated"
}


В случае ошибки:
{
  "error": "authentication failed"
}


В случае использования неподдерживаемого метода HTTP будет возвращен ответ с кодом 422 и сообщением об ошибке:
{
  "error": "Method not supported"
}


---

Удаление пользователя

- Метод: GET
- URL: /delete

Необходим заголовок авторизации: Bearer токен

Ответ:
{
  "message": "user was deleted"
}


В случае ошибки:
{
  "error": "authentication failed"
}


В случае использования неподдерживаемого метода HTTP будет возвращен ответ с кодом 422 и сообщением об ошибке:
{
  "error": "Method not supported"
}